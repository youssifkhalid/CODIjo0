<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Code Editor</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<style>
        body, html {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            height: 100%;
            background-color: #1e1e1e;
            color: #f0f0f0;
        }
        .container {
            display: flex;
            height: 100%;
        }
        .editor-container, .preview-container {
            flex: 1;
            padding: 20px;
            box-sizing: border-box;
        }
        .editor-container {
            background-color: #252526;
        }
        .preview-container {
            background-color: #1e1e1e;
            border-left: 1px solid #333;
        }
        .tab {
            display: flex;
            background-color: #2d2d2d;
            border-radius: 5px 5px 0 0;
        }
        .tab button {
            background-color: #2d2d2d;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 10px 20px;
            transition: 0.3s;
            font-size: 16px;
            color: #d4d4d4;
        }
        .tab button:hover {
            background-color: #3c3c3c;
        }
        .tab button.active {
            background-color: #1e1e1e;
            border-top: 2px solid #007acc;
        }
        .editor-wrapper {
            position: relative;
            height: calc(100% - 100px);
            overflow: hidden;
        }
        .editor {
            width: 100%;
            height: 100%;
            margin-bottom: 10px;
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            padding: 10px 10px 10px 50px;
            border: none;
            border-radius: 0 0 5px 5px;
            resize: none;
            background-color: #1e1e1e;
            color: #d4d4d4;
            overflow-y: auto;
            white-space: pre;
            tab-size: 4;
            direction: ltr;
            min-height: 300px;
        }
        .line-numbers {
            position: absolute;
            left: 0;
            top: 2;
            bottom: 0;
            width: 40px;
            padding: 10px 5px;
            text-align: right;
            background-color: #252526;
            color: #858585;
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            user-select: none;
            overflow: hidden;
        }
        .preview {
            width: 100%;
            height: calc(100% - 40px);
            border: none;
            border-radius: 5px;
            background-color: white;
            border: solid black 4px;
            box-shadow: black -5px 5px 10px 5px;
        }
        h1, h2 {
            margin-top: 0;
            color: #d4d4d4;
        }
        button, select {
            padding: 10px 20px;
            font-size: 16px;
            background-color: black;
            border: white 4px solid;
            color: white;
            border-radius: 40px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-right: 10px;
        }
        button:hover, select:hover {
            background-color: #005999;
        }
        .light-theme {
            background-color: #f0f0f0;
            color: #333;
        }
        .light-theme .editor {
            background-color: #fff;
            color: #333;
        }
        .light-theme .line-numbers {
            background-color: #f0f0f0;
            color: #666;
        }
footer {
            background-color: #2d2d2d;
            color: #f0f0f0;
            text-align: center;
            padding: 20px;
            position: relative;
            bottom: 0;
            width: 100%;
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.5);
        }
        .contact-info {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 15px;
        }
        .contact-info a {
            display: flex;
            align-items: center;
            margin: 0 15px;
            color: #fff;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        .contact-info a:hover {
            color: #007acc;
        }
        .contact-info i {
            margin-right: 10px;
            font-size: 24px;
        }
        .social-links {
            display: flex;
            justify-content: center;
            margin-top: 15px;
        }
        .social-links a {
            color: #fff;
            margin: 0 15px;
            font-size: 24px;
            transition: color 0.3s ease;
        }
        .social-links a:hover {
            color: #007acc;
        }

    </style>
</head>
<body>
    <div class="container">
        <div class="editor-container ">
            <h1> CODIjoo</h1>
            <div class="tab">
                <button class="tablinks active" onclick="openTab(event, 'mix')">Mixed</button>
                <button class="tablinks" onclick="openTab(event, 'html')">HTML</button>
                <button class="tablinks" onclick="openTab(event, 'css')">CSS</button>
                <button class="tablinks" onclick="openTab(event, 'js')">JavaScript</button>
            </div>
            <div class="editor-wrapper">
                <div class="line-numbers" id="lineNumbers"></div>
                <textarea id="mix" class="editor tabcontent" style="display:block;" oninput="updatePreview()" spellcheck="false">
                    <h1>This is an example</h1>
                    Welcome to CODIjoo
                </textarea>
                <textarea id="html" class="editor tabcontent" style="display:none;" oninput="updatePreview()" spellcheck="false"><h1>Hello, World!</h1>
                    <p>
                        This is the advanced code editor.
                    </p>
                </textarea>
                <textarea id="css" class="editor tabcontent" style="display:none;" oninput="updatePreview()" spellcheck="false">body {
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                    background-color: #f0f0f0;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    height: 100vh;
                    margin: 0;
                    }
                    h1 {
                    color: #007acc;
                    }
                    p {
                    color: #333;
                    }</textarea>
                <textarea id="js" class="editor tabcontent" style="display:none;" oninput="updatePreview()" spellcheck="false">console.log("Hello from JavaScript!");
                    document.querySelector('h1').addEventListener('click', function() {
                    this.style.color = '#' + Math.floor(Math.random()*16777215).toString(16);
                    });</textarea>
            </div>
        </div>
        <div class="preview-container">
            <h2>Live Preview</h2>
            <iframe id="preview" class="preview"></iframe>
        </div>
    </div>
    <select id="fontSize" onchange="changeFontSize()">
        <option value="12">Small (12px)</option>
        <option value="14" selected>Medium (14px)</option>
        <option value="18">Large (18px)</option>
        <option value="24">Extra Large (24px)</option>
    </select>
    <button onclick="toggleTheme()">Toggle Theme</button>
    <button onclick="startTyping()">Start Typing</button>
    <label for="typingSpeed">Typing Speed (ms):</label>
    <input type="number" id="typingSpeed" value="1" min="1" onchange="updateTypingSpeed()">

<footer>
    <div class="contact-info">
        <a href="tel:+201092812463">
            <i class="fas fa-phone" style="color: #4CAF50;"></i> اتصال مباشر
        </a>
        <a href="https://wa.me/+201092812463">
            <i class="fab fa-whatsapp" style="color: #25D366;"></i> واتس اب
        </a>
    </div>
    
    <div class="social-links">
        <a href="https://www.instagram.com/crazy_developer1698?igsh=ajNpcDRsY3VtbnF2" target="_blank">
            <i class="fab fa-instagram" style="color: #E1306C;"></i>
        </a>
        <a href="https://www.tiktok.com/@joo_1078?_t=8rRQm1ZkhFZ&_r=1" target="_blank">
            <i class="fab fa-tiktok" style="color: #69C9D0;"></i>
        </a>
        <a href="https://www.facebook.com/Crazydeveloper1698?mibextid=ZbWKwL" target="_blank">
            <i class="fab fa-facebook" style="color: #3b5998;"></i>
        </a>
        <a href="https://www.snapchat.com/add/youssif_khalid0?share_id=7FOUsdVcG50&locale=ar-EG" target="_blank">
            <i class="fab fa-snapchat-ghost" style="color: #FFFC00;"></i>
        </a>
    </div>
</footer>
<script>
    let typingSpeed = 1;

    function openTab(evt, tabName) {
        var i,
        tabcontent,
        tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.className += " active";
        updatePreview();
        updateLineNumbers();
    }

    function updatePreview() {
        var mix = document.getElementById('mix').value;
        var html = document.getElementById('html').value;
        var css = document.getElementById('css').value;
        var js = document.getElementById('js').value;

        var preview = document.getElementById('preview');
        var content = '';

        if (document.querySelector('.tablinks.active').textContent === 'Mixed') {
            content = mix;
        } else {
            content = `${html}<style>${css}</style><script>${js}<\/script>`;
        }

        preview.srcdoc = content;
    }

    function startTyping() {
        var activeTab = document.querySelector('.tablinks.active').textContent;
        var targetElement;
        var fullText;

        if (activeTab === 'Mixed') {
            targetElement = document.getElementById('mix');
           fullText = targetElement.value;
        } else {
            var html = document.getElementById('html').value;
            var css = document.getElementById('css').value;
            var js = document.getElementById('js').value;
            fullText = `${html}\n<style>\n${css}\n</style>\n<script>\n${js}\n<\/script>`;
        }

        var index = 0;
        targetElement.value = '';

        function typeText() {
            if (index < fullText.length) {
                if (activeTab === 'Mixed') {
                    targetElement.value += fullText.charAt(index);
                    targetElement.scrollTop = targetElement.scrollHeight;
                } else {
                    var parts = fullText.split('\n<style>\n');
                    var htmlPart = parts[0];
                    var rest = parts[1].split('\n</style>\n<script>\n');
                    var cssPart = rest[0];
                    var jsPart = rest[1].slice(0, -9);

                    if (index < htmlPart.length) {
                        document.getElementById('html').value = htmlPart.slice(0, index + 1);
                        document.getElementById('html').scrollTop = document.getElementById('html').scrollHeight;
                    } else if (index < htmlPart.length + cssPart.length + 9) {
                        document.getElementById('css').value = cssPart.slice(0, index - htmlPart.length - 9);
                        document.getElementById('css').scrollTop = document.getElementById('css').scrollHeight;
                    } else {
                        document.getElementById('js').value = jsPart.slice(0, index - htmlPart.length - cssPart.length - 18);
                        document.getElementById('js').scrollTop = document.getElementById('js').scrollHeight;
                    }
                }
                index++;
                setTimeout(typeText, typingSpeed);
                updatePreview();
                updateLineNumbers();
            }
        }

        typeText();
    }

    function updateTypingSpeed() {
        typingSpeed = parseInt(document.getElementById('typingSpeed').value);
    }

    function changeFontSize() {
        var fontSize = document.getElementById('fontSize').value;
        document.querySelectorAll('.editor, .line-numbers').forEach(function(element) {
            element.style.fontSize = fontSize + 'px';
        });
        updateLineNumbers();
    }

    function toggleTheme() {
        document.body.classList.toggle('light-theme');
        document.querySelectorAll('.editor').forEach(function(editor) {
            editor.classList.toggle('light-theme');
        });
    }

    function updateLineNumbers() {
        var editor = document.querySelector('.editor:not([style*="display: none"])');
        var lineNumbers = document.getElementById('lineNumbers');
        var lines = editor.value.split('\n');
        lineNumbers.innerHTML = lines.map((_, index) => index + 1).join('<br>');
    }

    // Initialize
    updatePreview();
    updateLineNumbers();
    window.addEventListener('load', updatePreview);
</script>
</body>
</html>